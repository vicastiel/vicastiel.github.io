<!DOCTYPE HTML>
<html lang="fr" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Pandas : Les bases et Analyse du Titanic - La Formation Castiel</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">La Formation Castiel</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="pandas--les-bases-et-analyse-du-titanic"><a class="header" href="#pandas--les-bases-et-analyse-du-titanic"><center>Pandas : Les bases et Analyse du Titanic</a></h1>
<h3 id="sommaire-"><a class="header" href="#sommaire-">Sommaire :</a></h3>
<ul>
<li><a href="#1-charger-vos-donn%C3%A9es-dans-un-dataframe-pandas">Chapitre 1 : Charger vos donn√©es dans un DataFrame Pandas</a></li>
<li><a href="#2-nettoyer-votre-dataset-avec-drop-dropna-et-fillna">Chapitire 2 : Nettoyer votre Dataset avec drop(), dropna() et fillna()</a></li>
<li><a href="#3-groupby-et-value_counts">Chapitre 3 : Groupby() et value_counts()</a></li>
<li><a href="#4-exercice-et-solution">Chapitre 4: Exercice et Solution</a></li>
</ul>
<br>
<p><a href="./titanic.xls">üìÇ T√©l√©charger la base de donn√©e</a></p>
<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
</code></pre>
<h2 id="1-charger-vos-donn√©es-dans-un-dataframe-pandas"><a class="header" href="#1-charger-vos-donn√©es-dans-un-dataframe-pandas">1. Charger vos donn√©es dans un DataFrame Pandas</a></h2>
<p>Les options les plus courantes :</p>
<ul>
<li>read_csv</li>
<li>read_excel</li>
</ul>
<pre><code class="language-python">data = pd.read_excel('titanic.xls')
</code></pre>
<pre><code class="language-python">data.shape
data.head()
</code></pre>
<p><strong>-</strong></p>
<pre><code>	pclass	survived	name	sex	age	sibsp	parch	ticket	fare	cabin	embarked	boat	body	home.dest
0	1	1	Allen, Miss. Elisabeth Walton	female	29.0000	0	0	24160	211.3375	B5	S	2	NaN	St Louis, MO
1	1	1	Allison, Master. Hudson Trevor	male	0.9167	1	2	113781	151.5500	C22 C26	S	11	NaN	Montreal, PQ / Chesterville, ON
2	1	0	Allison, Miss. Helen Loraine	female	2.0000	1	2	113781	151.5500	C22 C26	S	NaN	NaN	Montreal, PQ / Chesterville, ON
3	1	0	Allison, Mr. Hudson Joshua Creighton	male	30.0000	1	2	113781	151.5500	C22 C26	S	NaN	135.0	Montreal, PQ / Chesterville, ON
4	1	0	Allison, Mrs. Hudson J C (Bessie Waldo Daniels)	female	25.0000	1	2	113781	151.5500	C22 C26	S	NaN	NaN	Montreal, PQ / Chesterville, ON
</code></pre>
<pre><code class="language-python">data.describe()
</code></pre>
<p><strong>-</strong></p>
<pre><code>pclass	survived	age	sibsp	parch	fare	body
count	1309.000000	1309.000000	1046.000000	1309.000000	1309.000000	1308.000000	121.000000
mean	2.294882	0.381971	29.881135	0.498854	0.385027	33.295479	160.809917
std	0.837836	0.486055	14.413500	1.041658	0.865560	51.758668	97.696922
min	1.000000	0.000000	0.166700	0.000000	0.000000	0.000000	1.000000
25%	2.000000	0.000000	21.000000	0.000000	0.000000	7.895800	72.000000
50%	3.000000	0.000000	28.000000	0.000000	0.000000	14.454200	155.000000
75%	3.000000	1.000000	39.000000	1.000000	0.000000	31.275000	256.000000
max	3.000000	1.000000	80.000000	8.000000	9.000000	512.329200	328.000000
</code></pre>
<h2 id="2-nettoyer-votre-dataset-avec-drop-dropna-et-fillna"><a class="header" href="#2-nettoyer-votre-dataset-avec-drop-dropna-et-fillna">2. Nettoyer votre Dataset avec drop(), dropna() et fillna()</a></h2>
<pre><code class="language-python">data = data.drop(['name', 'sibsp', 'parch', 'ticket', 'fare', 'cabin', 'embarked', 'boat', 'body', 'home.dest'], axis=1)
</code></pre>
<pre><code class="language-python">data = data.dropna(axis=0)
data.shape
</code></pre>
<p><strong>-</strong></p>
<pre><code>(1046, 4)
</code></pre>
<pre><code class="language-python">data['age'].hist()
</code></pre>
<p><img src="./images/6g1.png" alt="Description de l&#39;image" /></p>
<h2 id="3-groupby-et-value_counts"><a class="header" href="#3-groupby-et-value_counts">3. Groupby() et value_counts()</a></h2>
<pre><code class="language-python">data.groupby(['sex']).mean()
</code></pre>
<p><strong>-</strong></p>
<pre><code>	pclass	survived	age
sex			
female	2.048969	0.752577	28.687071
male	2.300912	0.205167	30.585233
</code></pre>
<pre><code class="language-python">data.groupby(['sex', 'pclass']).mean()
</code></pre>
<p><strong>-</strong></p>
<pre><code>
survived	age
sex	pclass		
female	1	0.962406	37.037594
2	0.893204	27.499191
3	0.473684	22.185307
male	1	0.350993	41.029250
2	0.145570	30.815401
3	0.169054	25.962273
</code></pre>
<pre><code class="language-python">data['pclass'].value_counts()
</code></pre>
<p><strong>-</strong></p>
<pre><code>pclass
3    501
1    284
2    261
Name: count, dtype: int64
</code></pre>
<pre><code class="language-python">data[data['age'] &lt; 18]['pclass'].value_counts()
</code></pre>
<p><strong>-</strong></p>
<pre><code>pclass
3    106
2     33
1     15
Name: count, dtype: int64
</code></pre>
<h2 id="4-exercice-et-solution"><a class="header" href="#4-exercice-et-solution">4. Exercice et Solution</a></h2>
<ul>
<li>Cr√©er des cat√©gories d'ages avec la fonction map() de pandas</li>
<li>Cr√©er des cat√©gories de genres avec cat.codes</li>
</ul>
<details>
    <summary>üí° Cliquez ici pour voir la solution</summary>
<h3 id="solution"><a class="header" href="#solution">Solution</a></h3>
<pre><code class="language-python">def category_ages(age):
    if age &lt;= 20:
        return '&lt;20 ans'
    elif (age &gt; 20) &amp; (age &lt;= 30):
        return '20-30 ans'
    elif (age &gt; 30) &amp; (age &lt;= 40):
        return '30-40 ans'
    else:
        return '+40 ans'
</code></pre>
<pre><code class="language-python">data['age'] = data['age'].map(category_ages)
data['age']
</code></pre>
<p><strong>-</strong></p>
<pre><code>#data['age'] = data['age'].map(category_ages)
data['age']
</code></pre>
<pre><code class="language-python">data['sex'].astype('category').cat.codes
</code></pre>
<p><strong>-</strong></p>
<pre><code>0       0
1       1
2       0
3       1
4       0
       ..
1301    1
1304    0
1306    1
1307    1
1308    1
Length: 1046, dtype: int8
</code></pre>
</details>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../chapitre5.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../nested/6_2.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../chapitre5.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../nested/6_2.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
